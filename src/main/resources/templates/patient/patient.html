<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>MEDICAL - Responsive HTML &amp; Bootstrap Template</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
<!--    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
    <!-- Include Moment.js CDN -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <!-- Include Bootstrap DateTimePicker CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"
          rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js">
    </script>


</head>

<body class="d-flex flex-column min-vh-100">
<!--/*@thymeleaf id="doc" type="com.stefanpetkov.medical.commands.DoctorCommand"*/-->

<div th:insert="~{common/header :: header}"></div>


<!--<label class="form-label display-6 -bold text-center"><strong> Appointment Form</strong></label>-->
<!--<h3 ></h3>-->
<!--<form class="border border-dark border-3 padding-bottom pb-3 mb-5 ml-5 mr-5" th:object="${doctors}"  th:action="@{/add}"  method="post">-->
<!--<div class="row g-3">-->
<!--    <div class="col">-->
<!--        <label class="form-label"><b>  &nbsp;&nbsp;  First Name:</b></label>-->
<!--        <input type="text" class="form-control" placeholder="First name" th:text="${doctors.firstName}  + ' ' + ${doctors.lastName}"/>-->
<!--    </div>-->
<!--    <div class="col">-->
<!--        <label class="form-label"><b>  &nbsp; Last Name:</b></label>-->
<!--        <input type="text" class="form-control" placeholder="Last name" th:field="${doctors}">-->
<!--    </div>-->
<!--    <div class="col">-->
<!--        <label class="form-label"><b>  &nbsp; Time:</b></label>-->
<!--&lt;!&ndash;        <input class="form-control" type="text" id="datetime" placeholder="Select time:" th:field="${appointment.appointment}" />&ndash;&gt;-->
<!--        <input  class="form-control" type="text" id="datetime" data-date-format="DD-MM-YYYY HH:mm:ss" placeholder="Select time:"/>-->
<!--    </div>-->
<!--    <div class="col-1 mt-5">-->
<!--        <button class="btn btn-outline-success" id="btn_save" type="submit"><b>Save</b></button>-->
<!--    </div>-->

<!-- </div>-->
<!--</form>-->


</div>
<h3>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Здравей : Stefan</h3>
<!--<label class="form-label display-6 -bold text-left"> &nbsp;&nbsp;<strong> Appointments : </strong></label>-->


<form  th:action="@{/search}" method="get">
    <input class="border border-1 border-dark p-20  mx-2" type="text" name="keyword" th:value="${keyword}" placeholder="Find by FirstName or Appointment date" size="45%">
    <button type="submit" class="btn btn-info" >Search</button>
<!--    <button type="submit" class="btn btn-info" disabled >reset</button>-->
    <a type="button" class="btn btn-warning"  href="/addAppointment" >Make Appointment</a>
</form>


<!--<form th:action="@{/newAppointment}" method="get">-->
<!--    <button type="submit" class="btn btn-info" >New Appointment</button>-->
<!--</form>-->


<table class="table table-striped">
    <tr class="table-dark">
        <th>Patient_ID</th>
        <th>Doctor's FullName</th>
        <th>Appointment</th>
        <th>Phone</th>
        <th>Update</th>
        <th>Delete</th>
    </tr>
    <tr class="border border-3 border-dark" th:each="doctor : ${doctors}">
        <td th:text="${doctor.getPatient().getId()}">id</td>
        <td th:text="d-r + ' ' + ${doctor.getDoctor().getFirstName()} + ' ' + ${doctor.getDoctor().getLastName()}">FullName</td>
        <td th:text="${doctor.getDateTimeOfTheAppointment()}">phone</td>
        <td th:text="${doctor.getDoctor().getPhone()}">phone</td>

        <td class="col-1 mt-5">
            <a class="btn btn-outline-success" th:href="@{/updateAppointmentForm(appointment_id=${doctor.getAppointmentId()})}" id="btn_update" type="submit"><b>Update</b></a>
        </td>
        <td class="col-1 mt-5">
            <a class="btn btn-outline-success" th:href="@{/deleteAppointment(appointment_id=${doctor.getAppointmentId()})}" id="btn_delete" type="submit"><b>Delete</b></a>
        </td>
   </tr>
</table>

<!--        <tr th:each="appointment : ${appointments}">-->
<!--        <td th:text="${appointment.dateTimeOfTheAppointment}">phone</td>-->



    <!--    <tr class="border border-3 border-dark" th:each="appointment : ${appointments}">-->
    <!--        <th scope="row">Appointment : </th>-->
    <!--        <td class="w-25 p-3" th:text="${appointment.dateTimeOfTheAppointment}">appointment</td>-->
    <!--    <td class="col-1 mt-5">-->
    <!--        <button class="btn btn-outline-success" id="btn_update" type="submit"><b>Update</b></button>-->
    <!--    </td>-->
    <!--    <td class="col-1 mt-5">-->
    <!--        <button class="btn btn-outline-success" id="btn_delete" type="submit"><b>Delete</b></button>-->
    <!--    </td>-->
    <!--    </tr>-->


    <!--        <td th:each="appointment : ${appointments}" th:text="${appointment.dateTimeOfTheAppointment}">appointment</td>-->
    <!--        <td class="col-1 mt-5">-->
    <!--            <button class="btn btn-outline-success" id="btn_update" type="submit"><b>Update</b></button>-->
    <!--        </td>-->
    <!--        <td class="col-1 mt-5">-->
    <!--            <button class="btn btn-outline-success" id="btn_delete" type="submit"><b>Delete</b></button>-->
    <!--        </td>-->



<!-- footer starts here -->
<div th:insert="~{common/footer :: footer}"></div>


<script>

    // Below code sets format to the
    // datetimepicker having id as
    // datetime
    $('#datetime').datetimepicker({
        format: 'DD-MM-YYYY HH:mm:ss'
    });
</script>

</body>
</html>